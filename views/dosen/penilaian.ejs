<main class="content-container">
    <div class="content-header">
        Penilaian Seminar Hasil
    </div>

    <div class="form-container">
        <div class="form-group">
            <label for="studentSelect">Pilih Nama Mahasiswa</label>
            <select id="studentSelect" class="student-dropdown">
                <option value="">-- Pilih Mahasiswa --</option>
                <% if (typeof mahasiswas !== 'undefined' && mahasiswas.length > 0) { %>
                    <% mahasiswas.forEach(function(mhs) { %>
                        <option value="<%= mhs.id %>"><%= mhs.nama %> (<%= mhs.nim %>)</option>
                    <% }); %>
                <% } else { %>
                    <option value="" disabled>Tidak ada mahasiswa yang perlu dinilai</option>
                <% } %>
            </select>
        </div>

        <form id="assessmentForm">
            <% if (typeof penilaian !== 'undefined' && penilaian.length > 0) { %>
                <% penilaian.forEach(function(item) { %>
                    <div class="form-group">
                        <label><%= item.nama_kriteria || 'Kriteria ' + item.id_nilai %> (<%= item.bobot * 100 %>%)</label>
                        <input
                            type="number"
                            class="score-input"
                            data-kategori-id="<%= item.id_nilai %>"
                            data-weight="<%= item.bobot %>"
                            min="0"
                            max="100"
                            step="0.01"
                            required
                        >
                    </div>
                <% }); %>
            <% } else { %>
                <p>Tidak ada kriteria penilaian yang tersedia.</p>
            <% } %>

            <div class="form-group">
                <label>Nilai Akhir:</label>
                <span id="finalScore">0.00</span>
            </div>

            <div class="form-actions">
                <button type="submit" class="btn-submit">Kirim Penilaian</button>
                <button type="button" class="btn-revise" disabled>Revisi</button>
                <button type="button" class="btn-print" disabled>Cetak</button>
            </div>
        </form>
    </div>
</main>

<script src="/dosen/JS/penilaian.js"></script>
